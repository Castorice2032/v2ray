{
  "_comment": "Configuration file for Xray client – revised 2025-07-01",

  /* ---------- 1) Log ---------- */
  "log": {
    "access": "data/logs/access.log",
    "error":  "data/logs/error.log",
    "loglevel": "warning"
  },

  /* ---------- 2) Observatory ---------- */
  "observatory": {
    "outbounds": [
      { "tag": "vmess-tcp-tls",      "interval": "5m", "url": "https://cp.cloudflare.com/generate_204" },
      { "tag": "vmess-ws",           "interval": "5m", "url": "https://cp.cloudflare.com/generate_204" },
      { "tag": "vless-grpc-reality", "interval": "5m", "url": "https://cp.cloudflare.com/generate_204" },
      { "tag": "trojan",             "interval": "5m", "url": "https://cp.cloudflare.com/generate_204" }
    ]
  },

  /* ---------- 3) Inbound ---------- */
  "inbounds": [
    {
      "tag": "socks-in",
      "port": 10808,
      "protocol": "socks",
      "settings": { "udp": true }
    }
  ],

  /* ---------- 4) Outbounds (بی‌تغییر جز تکمیل مقادیر واقعی) ---------- */
  "outbounds": [
    {
      "_type": "VMESS over TCP + TLS",
      "tag": "vmess-tcp-tls",
      "protocol": "vmess",
      "settings": {
        "vnext": [
          {
            "address": "example.com",
            "port": 443,
            "users": [
              { "id": "1eb6e917-774b-48df-9272-b397f6714f2d", "alterId": 0, "security": "auto" }
            ]
          }
        ]
      },
      "streamSettings": {
        "network": "tcp",
        "security": "tls",
        "tlsSettings": { "serverName": "example.com", "allowInsecure": false }
      }
    },

    {
      "_type": "VMESS over WebSocket",
      "tag": "vmess-ws",
      "protocol": "vmess",
      "settings": {
        "vnext": [
          {
            "address": "example.com",
            "port": 443,
            "users": [
              { "id": "1eb6e917-774b-48df-9272-b397f6714f2d", "alterId": 0, "security": "auto" }
            ]
          }
        ]
      },
      "streamSettings": {
        "network": "ws",
        "security": "none",
        "wsSettings": { "path": "/path", "headers": { "Host": "example.com" } }
      }
    },

    {
      "_type": "VLESS over gRPC with Reality",
      "tag": "vless-grpc-reality",
      "protocol": "vless",
      "settings": {
        "vnext": [
          {
            "address": "example.com",
            "port": 443,
            "users": [
              { "id": "1eb6e917-774b-48df-9272-b397f6714f2d", "encryption": "none", "flow": "" }
            ]
          }
        ]
      },
      "streamSettings": {
        "network": "grpc",
        "security": "reality",
        "realitySettings": {
          "serverName": "example.com",
          "fingerprint": "chrome",
          "publicKey": "mF0Ek9VZxz8XYZ3iG4H1Jy5Qp7RtLwDcWuNv6BsU2Aa",
          "shortId": "12345678"
        },
        "grpcSettings": { "serviceName": "grpc" }
      }
    },

    {
      "_type": "TROJAN over TCP with TLS",
      "tag": "trojan",
      "protocol": "trojan",
      "settings": {
        "servers": [
          { "address": "example.com", "port": 443, "password": "your-password-here" }
        ]
      },
      "streamSettings": {
        "network": "tcp",
        "security": "tls",
        "tlsSettings": { "serverName": "example.com", "allowInsecure": false }
      }
    },

    { "_type": "Direct",  "tag": "direct",  "protocol": "freedom",  "settings": {} },
    { "_type": "Blocked", "tag": "blocked", "protocol": "blackhole", "settings": {} }
  ],

  /* ---------- 5) Routing (بی‌تغییر) ---------- */
  "routing": {
    "domainStrategy": "AsIs",
    "rules": [
      {
        "_comment": "Route example.com & Google via vmess-tcp-tls",
        "type": "field",
        "outboundTag": "vmess-tcp-tls",
        "domain": [ "domain:example.com", "geosite:google" ]
      },
      {
        "_comment": "Chinese sites direct",
        "type": "field",
        "outboundTag": "direct",
        "domain": [ "geosite:cn" ]
      },
      {
        "_comment": "Block BitTorrent",
        "type": "field",
        "outboundTag": "blocked",
        "protocol": [ "bittorrent" ]
      }
    ]
  }
}
